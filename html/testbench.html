<!DOCTYPE html>
<html>
<head>
<title>SeniorDesign</title>
<meta charset="UTF-8" content="width-=device-width, initial-scale=1">

<!-- Links-->
<link rel="stylesheet" href="../css/style.css">
<link rel="icon" href="../images/BrianEmote.png">
<script src="../js/FileIO.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="../js/plotly.min.js"></script>
<script src="../js/graph.js"></script>

</head>

<body class="page">
	
<div class="nav">
  <a class="active" href="#index"></a>
  <a href="login.html">Logout</a>
  <a href="#TestBench#Testbench">TestBench</a>
  <a href="index.html#Dashboard">Dashboard</a>
</div>

<div class="title" >
  <h2>Test Bench</h2>
</div>

<!--
<div id="test"></div>
-->

<!--
<div id="#demo"></div>

<script>
document.getElementById("#demo").innerHTML = "Hello, World!";
</script>
-->
	<script type='text/javascript' > 
		var selectedFile = false; 
	</script>

	<!-- Motor Selection -->
	<div class="section">
		<h1>Select the model of motor to test: </h1>
		<input id="file" type="file" />
		
		<script>
			var filesInput = document.getElementById("file");
			filesInput.addEventListener("change", function (event) {
				var files = event.target.files;
				var file = files[0];
				var reader = new FileReader();
				reader.addEventListener("load", function (event) {
					//~ var textFile = event.target;
					//~ alert(textFile.result);
					var textFile = event.target;
					var array = textFile.result.split(',');
					var winner = Math.floor((Math.random() * array.length) + 1);
					//~ alert('The winner is...\n' + array[winner]);
					selectedFile = true;
					alert('File successfully loaded');
				});
				reader.readAsText(file);
			});
			</script>
	</div>

	<!-- Plotly Graph Logic-->
	<div class="section">
		<p>Make sure you have followed the instructions <a href="#instructions">here</a> before viewing the realtime data.</p>
		<input type="button" value="Show Realtime Data" onclick="checkFile(selectedFile);">
<!--
		<input type="button" value="Show Realtime Data" onclick="plotData();">
-->
	</div>
	<div class="wrapper">
        <div id="chart"></div>
<!--
        <script>
            function getData() {
                return Math.random();
            }  
            Plotly.plot('chart',[{
                y:[getData()],
                type:'line'
            }]);
            
            var cnt = 0;
            var maxcnt = 200;
            var interval = 0.001
            setInterval(function(){
                Plotly.extendTraces('chart',{ y:[[getData()]]}, [0]);
                cnt++;
                if(cnt > maxcnt) {
                    Plotly.relayout('chart',{
                        xaxis: {
                            range: [cnt-maxcnt,cnt]
                        }
                    });
                }
            },interval);
        </script>
-->
    </div>

<footer id="contact" class="footer">
  <a href="https://github.com/brianjohnpolasek"><img src="../images/GitHub-Mark-32px.png" alt="Github Mark"></a>
  &nbsp;
  &nbsp;
  <a href="https://www.linkedin.com/in/brian-polasek-826b54a2"><img src="../images/LinkedInIcon-32px.png" alt="LinkedIn"></a>
</footer>

</body>
</html>
